<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valid_form</title>
    <style>
        span.color {
            color: red;
        }
    </style>
</head>
<body>
    <form name="ourSite" method="post" action="https://fe.it-academy.by/TestForm.php"  onclick="formValid(eo)" onsubmit="formValid()">
        <div >Для внесения вашего сайта в каталог, заполните форму:</div><br>
        <label>Разработчики:
            <input type="text" name="developers" onblur="validRazr(false)">
            <span class="color" id="razrError"></span> <!-- ошибка -->
        </label><br>
        <label>Название сайта:
            <input type="text" name="siteName" onblur="validNameSite(false)">
            <span class="color" id="razrErrorSite"></span> <!-- ошибка -->
        </label><br>
        <label>URL сайта:
            <input type="text" name="urlSite" onblur="validUrl(false)">
            <span class="color" id="razrErrorUrl"></span> <!-- ошибка -->
        </label><br>
        <label>Дата запуска сайта:
            <input type="date" name="dateStart" onblur="validDate(false)">
            <span class="color" id="razrErrorDate"></span> <!-- ошибка -->
        </label><br>
        <label>Посетителей в сутки:
            <input type="number" name="people" onblur="validPeople(false)">
            <span class="color" id="razrErrorCount"></span> <!-- ошибка -->
        </label><br>
        <label>E-mail для связи:
            <input type="email" name="email" onblur="validEmail(false)">
            <span class="color" id="razrErrorEmail"></span> <!-- ошибка -->
        </label><br>
        <label>Рубрика каталога:
            <select name="catalog" onchange="validCatalog(false)">
                <option value="0">Выбрать</option>
                <option value="1">здоровье</option>
                <option value="2">домашний уют</option>
                <option value="3">бытовая техника</option>
            </select>
            <span class="color" id="razrErrorCatalog"></span> <!-- ошибка -->
        </label><br>
        <label>Размещение:
                <input onchange="validPlacement(false)" type="radio" name="payment">бесплатное
                <input onchange="validPlacement(false)" type="radio" name="payment">платное
                <input onchange="validPlacement(false)" type="radio" name="payment">VIP
            <span class="color" id="razrErrorRadio"></span> <!-- ошибка -->
        </label><br>
        <label for="check">Разрешить отзывы:
            <input id="check" type="checkbox" name="votes" onchange="validCheck(false)">
            <span class="color" id="razrErrorCheck"></span> <!-- ошибка -->
        </label><br>
        <label>Описание сайта:
            <textarea name="description" onblur="validDescr(false)"></textarea>
            <span class="color" id="razrErrorDescription"></span> <!-- ошибка -->
        </label><br>
        <input type="submit" name="button" value="Опубликовать">
    </form>
    <script>
        function validRazr(focusOnError) { // аргумент в скобках, параметр на фокусирование
            const razrElem = document.forms.ourSite.elements.developers; // тег
            const razrValue = razrElem.value; // значение
            const errorElem = document.getElementById('razrError'); // ошибку находим

            let errorCount = 0; // подсчет ошибок, начиная с нуля
            if ( razrValue ) { // проверка если не пустое
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    razrElem.focus(); // прокрутка
                }
                errorCount++;
            }
            return errorCount;
        }

        function validNameSite(focusOnError) {
            const nameSiteElem = document.forms.ourSite.elements.siteName;
            const nameSiteValue = nameSiteElem.value;
            const errorElem = document.getElementById('razrErrorSite');

            let errorCount = 0;
            if ( nameSiteValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    nameSiteElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validUrl(focusOnError) {
            const urlElem = document.forms.ourSite.elements.urlSite;
            const urlValue = urlElem.value;
            const errorElem = document.getElementById('razrErrorUrl');

            let errorCount = 0;
            if ( urlValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    urlElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validDate(focusOnError) {
            const dataElem = document.forms.ourSite.elements.dateStart;
            const dataValue = dataElem.value;
            const errorElem = document.getElementById('razrErrorDate');

            let errorCount = 0;
            if ( dataValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    dataElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validPeople(focusOnError) {
            const peopleElem = document.forms.ourSite.elements.people;
            const peopleValue = peopleElem.value;
            const errorElem = document.getElementById('razrErrorCount');

            let errorCount = 0;
            if ( peopleValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    peopleElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validEmail(focusOnError) {
            const emailElem = document.forms.ourSite.elements.email;
            const emailValue = emailElem.value;
            const errorElem = document.getElementById('razrErrorEmail');

            let errorCount = 0;
            if ( emailValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    emailElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validCatalog(focusOnError) {
            const catalogElem = document.forms.ourSite.elements.catalog;
            const catalogValue = catalogElem.value;
            const errorElem = document.getElementById('razrErrorCatalog');

            let errorCount = 0;
            if ( catalogValue !== '0' ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    catalogElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validPlacement(focusOnError) {
            const placementElem = document.forms.ourSite.elements.payment;
            const placementValue = placementElem.value;
            const errorElem = document.getElementById('razrErrorRadio');

            let errorCount = 0;
            if ( placementValue ) { 
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    placementElem[0].focus();
                }
                errorCount++;
            }
            return errorCount;
        }
        
        function validCheck(focusOnError) {
            const checkElem = document.forms.ourSite.elements.votes;
            const checkValue = checkElem.checked;
            const errorElem = document.getElementById('razrErrorCheck');

            let errorCount = 0;
            if ( checkValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    checkElem.scrollIntoView();
                }
                errorCount++;
            }
            return errorCount;
        }

        function validDescr(focusOnError) {
            const descrElem = document.forms.ourSite.elements.description;
            const descrValue = descrElem.value;
            const errorElem = document.getElementById('razrErrorDescription');

            let errorCount = 0;
            if ( descrValue ) {
                errorElem.innerHTML = '';
            } else {
                errorElem.innerHTML = 'Заполните поле!';
                if ( focusOnError ) {
                    descrElem.focus();
                }
                errorCount++;
            }
            return errorCount;
        }
        function formValid(eo) { // Задача функции - валидировать всю форму
            eo = eo || window.event;
            let errorCount = 0; 
            errorCount += validRazr(!errorCount); // результат равен true если errorCount = 0;
            errorCount += validNameSite(!errorCount);
            errorCount += validUrl(!errorCount);
            errorCount += validDate(!errorCount);
            errorCount += validPeople(!errorCount);
            errorCount += validEmail(!errorCount);
            errorCount += validCatalog(!errorCount);
            errorCount += validPlacement(!errorCount);
            errorCount += validCheck(!errorCount);
            errorCount += validDescr(!errorCount);

            console.log(errorCount);
            if ( errorCount ) { // если была хоть одна ошибка
                eo.preventDefault(); // отмена отправки на сервер
            }
        }
    </script>
</body>
</html>