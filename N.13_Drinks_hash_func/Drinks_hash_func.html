<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Beverage_hash_func</title>
    <link rel="stylesheet" type="text/css" href="drinks.css">
</head>
<body>
    <div><input  type=button value='Ввод информации о напитке' onclick = "addBeverage()"></div>
    <div><input  type=button value='Получение информации о напитке' onclick = "getBeverage()"></div>
    <div><input  type=button value='Удаление информации о напитке' onclick = "deleteBeverage()"></div>
    <div><input  type=button value='Перечень всех напитков' onclick = "allBeverage()"></div>

    <script>
        function HashStorageFunc() {
            let storage = {};
            this.addValue = function(key, value) {
                storage[key] = value;
                console.log('Beverage \'' + key + '\' has been added');
            }
            this.getValue = function(key) {
                return storage[key];
            }
            this.deleteValue = function(key) {
                let isExist = key in storage;
                if (isExist) {
                    delete storage[key];
                    console.log('Beverage \'' + key + '\' has been deleted');
                    return true;
                } else {
                    console.log('Beverage \'' + key + '\' does not exists');
                    return false;
                }
            }
            this.getKeys = function() {
                return Object.keys(storage);
            } 
        }

        function Beverage(_nameBeverage, _alcoholic, _ingredients) {
            this.nameBeverage = _nameBeverage;
            this.alcoholic = _alcoholic;
            this.ingredients = _ingredients;
        }

        let cola = new Beverage('Кола', 'Безалкогольный', 'Сахар, вода, коричневый сахар, сок и натертая цедра апельсинов, лайма и лимона, семена кориандра, цветки лаванды, звездочки бадьяна, ваниль, пол палочки корицы, имбирь, лимонная кислота');
        let mojito = new Beverage('Мохито', 'Алкогольный', 'Ром белый, напиток «Швепс», лайм, лимон, сахар коричневый, листья мяты, лед');
        let margorita = new Beverage('Маргорита', 'Алкогольный', 'Текила, трипл-сек (ликер Куантро), сок лайма, долька лайма, соль (по вкусу), лед');
        let tea = new Beverage('Чай', 'Безалкогольный', 'Крупнолистовой черный чай');
        
        let beverageStorage = new HashStorageFunc();

        beverageStorage.addValue('cola', cola);
        beverageStorage.addValue('mojito', mojito);
        beverageStorage.addValue('margorita', margorita);
        beverageStorage.addValue('tea', tea);

        console.log(beverageStorage.getValue('cola'));
        console.log(beverageStorage.getKeys());
        console.log(beverageStorage.deleteValue('cola'));
        console.log(beverageStorage.deleteValue('cola'));
        console.log(beverageStorage.getValue('cola'));
        console.log(beverageStorage.getKeys());

        console.log(beverageStorage.getValue('mojito'));
        console.log(beverageStorage.getKeys());
        console.log(beverageStorage.deleteValue('mojito'));
        console.log(beverageStorage.getValue('mojito'));
        console.log(beverageStorage.getKeys());

        console.log(beverageStorage.getValue('margorita'));
        console.log(beverageStorage.getKeys());
        console.log(beverageStorage.deleteValue('margorita'));
        console.log(beverageStorage.getValue('margorita'));
        console.log(beverageStorage.getKeys());

        console.log(beverageStorage.getValue('tea'));
        console.log(beverageStorage.getKeys());
        console.log(beverageStorage.deleteValue('tea'));
        console.log(beverageStorage.getValue('tea'));
        console.log(beverageStorage.getKeys());

        function addBeverage() {
            const _nameBeverage = prompt('Введите название напитка:');
            const alcoholic = confirm('Алкогольный ли?');
            const ingredients = prompt('Ингредиенты:');
            beverageStorage.addValue(_nameBeverage, { alcoholic, ingredients });
        }

        function getBeverage() {
            const _nameBeverage = prompt('Введите название напитка:');
            const info = beverageStorage.getValue(_nameBeverage);
            if ( info !== undefined ) {
                alert (` Название напитка:  ${_nameBeverage} \n Алкогольный ли?  ${info.alcoholic} \n Ингредиенты:  ${info.ingredients} `);
            } else {
                alert ('Такого напитка нет');
            }
        }   

        function deleteBeverage() {
            const _nameBeverage = prompt('Введите название напитка:');
            const del = beverageStorage.deleteValue(_nameBeverage);
            alert( del ? 'Напиток удален' : 'Напиток не удален');
        }

        function allBeverage() {
            const all = beverageStorage.getKeys().join();
            console.log(all);
        }
    </script>
    
</body>
</html>